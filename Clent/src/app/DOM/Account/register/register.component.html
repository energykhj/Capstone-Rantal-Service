<div class="login-wrapper" fxLayout="row" fxLayoutAlign="center center">
  <div mat-dialog-content>
    <h1 mat-dialog-title>Login / Register</h1>
      <form [formGroup]="accountDetailsForm" (ngSubmit)=" onSubmitAccountDetails(accountDetailsForm.value)" >
  
        <mat-card-content>
          <mat-form-field class="full-width">
            <input matInput maxlength="25" formControlName="username" placeholder="Full Name" required>
            <mat-error *ngFor="let validation of account_validation_messages.username">
                <mat-error class="error-message" *ngIf="accountDetailsForm.get('username').hasError(validation.type) && (accountDetailsForm.get('username').dirty || accountDetailsForm.get('username').touched)">{{validation.message}}</mat-error>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="full-width">
            <input matInput type="email" placeholder="Email" formControlName="email" required>
            <mat-error *ngFor="let validation of account_validation_messages.email">
              <mat-error class="error-message" *ngIf="accountDetailsForm.get('email').hasError(validation.type) && (accountDetailsForm.get('email').dirty || accountDetailsForm.get('email').touched)">{{validation.message}}</mat-error>
            </mat-error>
          </mat-form-field>  

          <div formGroupName="matching_passwords">
            <mat-form-field class="full-width">
              <input matInput type="password" placeholder="Password" formControlName="password" required>
              <mat-error *ngFor="let validation of account_validation_messages.password">
                <mat-error class="error-message" *ngIf="accountDetailsForm.get('matching_passwords').get('password').hasError(validation.type) && (accountDetailsForm.get('matching_passwords').get('password').dirty || accountDetailsForm.get('matching_passwords').get('password').touched)">{{validation.message}}</mat-error>
              </mat-error>
            </mat-form-field>
  
            <mat-form-field class="full-width">
              <input matInput type="password" placeholder="Confirm Password" formControlName="confirm_password"  [errorStateMatcher]="parentErrorStateMatcher" required>
              <mat-error *ngFor="let validation of account_validation_messages.confirm_password">
                <mat-error class="error-message" *ngIf="(accountDetailsForm.get('matching_passwords').get('confirm_password').hasError(validation.type)|| accountDetailsForm.get('matching_passwords').hasError(validation.type)) && (accountDetailsForm.get('matching_passwords').get('confirm_password').dirty || accountDetailsForm.get('matching_passwords').get('confirm_password').touched)">{{validation.message}}</mat-error>
              </mat-error>
            </mat-form-field>
            </div>

          <!-- <mat-form-field class="example-full-width">
            <mat-label>Choose a role...</mat-label>
            <mat-select>
              <mat-option [value]="roles" *ngFor="let roles of Roles">{{roles}}
              </mat-option>
            </mat-select>
          </mat-form-field> -->
  
        </mat-card-content>
  
        <button mat-raised-button color="warn" type="submit" class="login-button" [disabled]="!accountDetailsForm.valid">Submit</button>
      </form>
    </div>
  </div>